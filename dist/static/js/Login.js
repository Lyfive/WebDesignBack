import{E as d,o as p,d as h,j as s,w as r,v as l,p as A,k as u,l as m}from"./vendor.js";import{_ as v}from"./school.js";import{_ as g}from"./main.js";var _="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAABBFJREFUaEPtmWnoTlkcxz/KG1mKV2PJkq0YW5S9mIisI2PJUihryPZCUQipsU2UYRJeEDF2UlJknxfWDEZeCDHWNJR5qa/Oo+s+55x77nPvTf/yq9vz9H/O+Z7f9/x+97f9q1HFpVoV15/vBL61BYuwQG2gbuR5C7wB9Pkxb8J5EegKDAWmAPU9St4G9gCngZt5kMlKYDIwHRCBtPIXsAP4I+3G6PpKCYwAZgM/ZTnc7L1mSFREpBICvwMzclA8DiG3mgi8TIOdlsAloEeaA1KufQH0A+6E7ktD4D1QKxQ447qewOUQjFACx0yUCcHMa01b4G4SWAiBecDGJKACfv9gopuXRBKB4cARh3IdAMX1UcBAkwPS8jgFHARk4VfGbbpHQP4GBgGPXcA+AtWBC0A3y+brQOfY34cBR4EHwD/mU9/1tIo8rc33CSapRWE2APNjuIp6syohsBRY6di4C1ASy1uWA8ssoEOAk7bDXBboZG6/pkPD3yw3lQcZF4GLQO80BHTzsoBLVMeIZN6yGxjvAJWLHo//5rLALaC9Rzv5tXw5b9kGTHOAbgemhhDoCNxI0KwvcC5v7Q3eQ6C5BVtZ+ocQAi4/LO1dAWhNUaJC8ZADvOzibC6kpKXk5ZLRwIGitAcaAk8d+Ip8ioBfxEZgJzDJo2BQis9I8JmjMSqzvo3AYeBnjwJJ2Tuj7p+3nwX6WIDK8o9NGdfmEl4D4HkeWnowlMmVveOiwKH3wOtCfwIjPeBdAHVRRcp/gIYDcVHd9EsSga2mz3UpOA7YW6D2jYAnDnzlia+6QZsLrQKWeBRUlFpQIAFVt/sd+KvjFYKNgNxHbuQSlRHyw3cFkfBFQbmP3Mj7DmiuozDmk6KKOYVvEXBJWQBxhcQrjj4gCqx5UEWjEId2PtfRlqtAtNn5DOMiMAfYFOAiIqAnS1RqAcwFdKZPVB3rHfhKXATqmNFfs8hq+X1TcwvxilEkZLUznjIgenANQE1KG6N8vYDLamcbt/iyqjqjaNEmJeU2EkUJmdwmGhna2tDS2i3AzACFo0vUB6gfKJOknvh8zO9U6rZMIKHBl6zhksaAmvU0M6b+xrqpCGjxYOBEbJeabkUhmyVCO7U0Ez5v/x1SmMVdSYpHy4lepnvT/OY+8G+Ae4TOVxXOB/hGjSEEpM8aYHFEMWeTHaC8liQ1TSWYxM4vlIAA41Wq3gcNpuLdU0irGUIgqPNLQ0Ak9gFjPLccdGiABUJxKvovpd4JJR5b7A492GUB9QEqJjVeCZK0FiiBurJnFgK/AmuB10Gam0WVEiid8SMwNlJ+LwLWByiwEFgHaFSy2bxH9wL2pc4DoZgqDZoAj4D/AzZpvRKiptuZJKsFMh2ex+bvBPK4xSwYVd4CnwA7C7Yxd/mclwAAAABJRU5ErkJggg==";const f={data(){return{username:"",password:"",status_22:"22_open.png",status_33:"33_open.png"}},mounted(){this.check()},methods:{check(){this.$cookies.get("LyFiveToken")!=null&&this.$axios({method:"POST",url:"/check",headers:{token:this.$cookies.get("LyFiveToken")}}).then(o=>{console.log(o),o.data.code==200?(this.updateUser(this.$cookies.get("LyFive").username,this.$cookies.get("LyFive").head),this.$router.push("/manage")):this.$cookies.remove("LyFiveToken")}).catch(o=>{this.$cookies.remove("LyFiveToken")})},updateUser(o,t){this.$store.commit("setUsername",o),this.$store.commit("setAvatar",t)},submit(){let o=this.username,t=this.password;this.$axios.post("/login",{username:o,password:t}).then(a=>{a.data.code===200?(console.log(a.data.data),this.$cookies.set("LyFive",a.data.data,"1d"),this.$cookies.set("LyFiveToken",a.headers.token,"1d"),this.updateUser(a.data.data.username,a.data.data.head),d({title:"\u767B\u5F55\u4FE1\u606F",message:"\u767B\u5F55\u6210\u529F",type:"success"}),this.$router.push("/manage")):d({title:"\u767B\u5F55\u4FE1\u606F",message:"\u8D26\u53F7\u6216\u5BC6\u7801\u9519\u8BEF",type:"error"})}).catch(a=>{console.error(a)})},register(){this.$router.push("/register")},print(){console.log(this.$data)},close(){this.status_22="22_close.png",this.status_33="33_close.png"},open(){this.status_22="22_open.png",this.status_33="33_open.png"}}},n=o=>(A("data-v-ff27bc86"),o=o(),u(),o),w={id:"login"},k=["src"],b=["src"],B={class:"mini-content"},F=n(()=>s("div",{class:"left"},[s("img",{src:v,alt:"",id:"school"})],-1)),U={class:"right"},x=n(()=>s("div",{class:"split"},null,-1)),E={class:"center"},y={class:"box"},C={class:"search"},L=n(()=>s("label",{for:"username"},"\u8D26\u53F7\uFF1A",-1)),D={class:"box"},I={class:"search"},K=n(()=>s("label",{for:"password"},"\u5BC6\u7801\uFF1A",-1)),J={class:"clk-button"},G=n(()=>s("p",null,"\u6CE8\u518C",-1)),H=[G],Q=n(()=>s("p",null,"\u767B\u5F55",-1)),S=[Q],O=m('<div class="footer" data-v-ff27bc86><span data-v-ff27bc86><a href="https://github.com/Lyfive" data-v-ff27bc86><img src="'+_+'" alt data-v-ff27bc86></a><a href="https://www.luogu.com.cn/user/364366" data-v-ff27bc86><img src="https://www.luogu.com.cn/favicon.ico" alt data-v-ff27bc86></a><a href="https://codeforces.com/profile/LyFive" data-v-ff27bc86><img src="https://codeforces.org/s/0/favicon-32x32.png" alt data-v-ff27bc86></a></span><span data-v-ff27bc86>\u5B66\u751F\u6210\u7EE9\u7BA1\u7406\u7CFB\u7EDF\xA0by\xA0LyFive</span></div>',1);function R(o,t,a,j,c,i){return p(),h("div",w,[s("img",{src:c.status_22,width:"185",class:"left-22"},null,8,k),s("img",{src:c.status_33,width:"185",class:"right-33"},null,8,b),s("div",B,[F,s("div",U,[s("div",{class:"top",onClick:t[0]||(t[0]=(...e)=>i.print&&i.print(...e))},"\u5B66\u751F\u7CFB\u7EDF\u767B\u5F55"),x,s("div",E,[s("div",y,[s("div",C,[L,r(s("input",{type:"text",id:"username","onUpdate:modelValue":t[1]||(t[1]=e=>c.username=e),placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7"},null,512),[[l,c.username]])])]),s("div",D,[s("div",I,[K,r(s("input",{type:"password",id:"password","onUpdate:modelValue":t[2]||(t[2]=e=>c.password=e),placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",onFocusin:t[3]||(t[3]=(...e)=>i.close&&i.close(...e)),onFocusout:t[4]||(t[4]=(...e)=>i.open&&i.open(...e))},null,544),[[l,c.password]])])]),s("div",J,[s("button",{onClick:t[5]||(t[5]=(...e)=>i.register&&i.register(...e))},H),s("button",{onClick:t[6]||(t[6]=(...e)=>i.submit&&i.submit(...e))},S)])])]),O])])}var W=g(f,[["render",R],["__scopeId","data-v-ff27bc86"]]);export{W as default};
