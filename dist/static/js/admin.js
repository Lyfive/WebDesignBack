/* empty css    *//* empty css          *//* empty css         *//* empty css               *//* empty css       */import{_ as c}from"./main.js";import{an as g,r as f,Q as _,ao as h,K as v,y as b,a4 as V,o as w,d as F,e as t,a5 as a,a6 as x,j as P,m as k}from"./vendor.js";const y={components:{Plus:g},data(){return{dialogImageUrl:"",dialogVisible:!1,uploadFile:"",fileList:[{name:"47f9f39376e7a419bef260e6749cb121.jpg",url:"http://127.0.0.1:8080/static/img/47f9f39376e7a419bef260e6749cb121.jpg"},{name:"30616305ef290e389d9019a0683a8046.jpg",url:"http://127.0.0.1:8080/static/img/30616305ef290e389d9019a0683a8046.jpg"}]}},methods:{handleRemove(e,o){console.log(e)},handlePictureCardPreview(e){this.dialogImageUrl=e.url,this.uploadFile=e,this.dialogVisible=!0},submit(){const e=new FormData;if(this.uploadFile.raw!=null)e.append("img",this.uploadFile.raw);else{console.log(this.uploadFile.url);const o=/\/static\/img.*/;e.append("url",o.exec(this.uploadFile.url)[0])}e.append("id",this.$cookies.get("LyFive").id),this.$axios({method:"post",url:"/user/upload",data:e,headers:{"Content-Type":"multipart/form-data",token:this.$cookies.get("LyFiveToken")}}).then(o=>{this.$message.success("\u4E0A\u4F20\u6210\u529F"),this.$store.commit("setAvatar",o.data.url),console.log(o.data),this.dialogVisible=!1}),this.dialogVisible=!1}}},C=P("h4",null,"\u5934\u50CF\u9884\u89C8",-1),E=k("\u63D0\u4EA4\u4FEE\u6539");function I(e,o,U,j,l,i){const s=f("Plus"),r=_,n=h,d=v,p=b,m=V;return w(),F(x,null,[t(n,{ref:"uploadRef",action:"/user/upload","list-type":"picture-card","on-preview":i.handlePictureCardPreview,"on-remove":i.handleRemove,"file-list":l.fileList,"auto-upload":!1},{default:a(()=>[t(r,null,{default:a(()=>[t(s)]),_:1})]),_:1},8,["on-preview","on-remove","file-list"]),t(m,{modelValue:l.dialogVisible,"onUpdate:modelValue":o[0]||(o[0]=u=>l.dialogVisible=u)},{footer:a(()=>[t(p,{type:"primary",onClick:i.submit},{default:a(()=>[E]),_:1},8,["onClick"])]),default:a(()=>[C,t(d,{src:l.dialogImageUrl,style:{width:"200px",height:"200px"},alt:"Preview Image"},null,8,["src"])]),_:1},8,["modelValue"])],64)}var A=c(y,[["render",I]]);export{A as default};
