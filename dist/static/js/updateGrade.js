/* empty css    *//* empty css            *//* empty css      *//* empty css      *//* empty css         *//* empty css               *//* empty css         *//* empty css         */import{_ as k}from"./main.js";import{a7 as c,ad as v,ae as V,a2 as y,al as C,y as _,M as E,W as L,a3 as T,o,ab as l,a5 as t,e as r,d as u,ah as m,a6 as p,m as U}from"./vendor.js";const w=c({setup(){return{}},data(){return{gradeForm:{fid:"",did:"",session:"",sid:"",number:"",cid:"",mark:0},faculties:[{fid:1,name:"\u8BA1\u7B97\u673A\u79D1\u5B66\u4E0E\u5DE5\u7A0B\u5B66\u9662"},{fid:2,name:"\u6570\u5B66\u4E0E\u8BA1\u7B97\u79D1\u5B66\u5B66\u9662"}],departments:[{did:1,name:"\u8BA1\u7B97\u673A\u79D1\u5B66\u4E0E\u6280\u672F"},{did:2,name:"\u8F6F\u4EF6\u5DE5\u7A0B"}],sessions:["21","20","19","18"],classes:[{sid:1,name:"\u8BA1\u7B97\u673A\u79D1\u5B66\u4E0E\u6280\u672F1\u73ED"},{sid:2,name:"\u8BA1\u7B97\u673A\u79D1\u5B66\u4E0E\u6280\u672F2\u73ED"}],students:[{number:"2005010705",name:"\u5F20\u4E09"},{number:"2005010706",name:"\u674E\u56DB"}],courses:[{cid:1,title:"Java"},{cid:2,title:"\u6570\u5B66"}]}},methods:{updateDepartments(e){this.departments=[],this.gradeForm.did="",this.$axios.get("/mid/departments",{params:{fid:e},headers:{token:this.$cookies.get("LyFiveToken")}}).then(s=>{s.data.code===200?this.departments=s.data.data:this.$message.error(s.data.msg)}).catch(s=>{s.response.status==401?this.$message.error("\u6743\u9650\u4E0D\u8DB3"):this.$message.error("\u670D\u52A1\u5668\u9519\u8BEF")})},updateSessions(e){this.sessions=[],this.gradeForm.session="",this.$axios.get("/mid/sessions",{params:{did:e},headers:{token:this.$cookies.get("LyFiveToken")}}).then(s=>{console.log(s.data.data),this.sessions=s.data.data,this.updateCourses(e)}).catch(s=>{s.response.status==401?this.$message.error("\u6743\u9650\u4E0D\u8DB3"):this.$message.error("\u670D\u52A1\u5668\u9519\u8BEF")})},updateClasses(e,s){this.classes=[],this.gradeForm.sid="",this.$axios.get("/mid/classes",{params:{did:e,session:s},headers:{token:this.$cookies.get("LyFiveToken")}}).then(g=>{console.log(g.data.data),this.classes=g.data.data}).catch(g=>{g.response.status==401?this.$message.error("\u6743\u9650\u4E0D\u8DB3"):this.$message.error("\u670D\u52A1\u5668\u9519\u8BEF")})},updateStudents(e){this.students=[],this.gradeForm.number="",this.$axios.get("/mid/students",{params:{sid:e},headers:{token:this.$cookies.get("LyFiveToken")}}).then(s=>{console.log(s.data.data),this.students=s.data.data}).catch(s=>{s.response.status==401?this.$message.error("\u6743\u9650\u4E0D\u8DB3"):this.$message.error("\u670D\u52A1\u5668\u9519\u8BEF")})},updateCourses(e){this.courses=[],this.gradeForm.cid="",this.$axios.get("/mid/courses",{params:{did:e},headers:{token:this.$cookies.get("LyFiveToken")}}).then(s=>{console.log(s.data.data),this.courses=s.data.data}).catch(s=>{s.response.status==401?this.$message.error("\u6743\u9650\u4E0D\u8DB3"):this.$message.error("\u670D\u52A1\u5668\u9519\u8BEF")})},updateGrade(){this.gradeForm.number!=""&&this.gradeForm.cid!=""&&this.gradeForm.mark!=""?this.$axios({method:"post",url:"/grade/add",data:{number:this.gradeForm.number,cid:this.gradeForm.cid,mark:this.gradeForm.mark},headers:{token:this.$cookies.get("LyFiveToken")}}).then(e=>{console.log(e.data),e.data.code==200?this.$message.success("\u66F4\u65B0\u6210\u529F"):this.$message.error("\u66F4\u65B0\u5931\u8D25")}).catch(e=>{e.response.status==401?this.$message.error("\u6743\u9650\u4E0D\u8DB3"):this.$message.error("\u670D\u52A1\u5668\u9519\u8BEF")}):this.$message.error("\u8BF7\u586B\u5199\u5B8C\u6574\u4FE1\u606F")}},created(){this.faculties=[],this.departments=[],this.sessions=[],this.classes=[],this.students=[],this.courses=[],this.gradeForm.sid="",this.gradeForm.cid="",this.gradeForm.grade="",this.gradeForm.did="",this.$axios.get("/mid/faculties",{headers:{token:this.$cookies.get("LyFiveToken")}}).then(e=>{console.log(e.data.data),this.faculties=e.data.data}).catch(e=>{e.response.status==401?this.$message.error("\u6743\u9650\u4E0D\u8DB3"):this.$message.error("\u670D\u52A1\u5668\u9519\u8BEF")})}}),S=U("\u63D0\u4EA4");function B(e,s,g,G,q,I){const i=v,n=V,d=y,h=C,f=_,F=E,$=L,b=T;return o(),l(b,{ref:"gradeForm",model:e.gradeForm,"label-width":"auto",class:"center"},{default:t(()=>[r(d,{label:"\u8BF7\u9009\u62E9\u5B66\u9662"},{default:t(()=>[r(n,{modelValue:e.gradeForm.fid,"onUpdate:modelValue":s[0]||(s[0]=a=>e.gradeForm.fid=a),placeholder:"\u5B66\u9662",onChange:s[1]||(s[1]=a=>e.updateDepartments(e.gradeForm.fid))},{default:t(()=>[(o(!0),u(p,null,m(e.faculties,a=>(o(),l(i,{key:a.fid,label:a.name,value:a.fid},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),r(d,{label:"\u8BF7\u9009\u62E9\u7CFB"},{default:t(()=>[r(n,{modelValue:e.gradeForm.did,"onUpdate:modelValue":s[2]||(s[2]=a=>e.gradeForm.did=a),placeholder:"\u7CFB",onChange:s[3]||(s[3]=a=>e.updateSessions(e.gradeForm.did))},{default:t(()=>[(o(!0),u(p,null,m(e.departments,a=>(o(),l(i,{key:a.did,label:a.name,value:a.did},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),r(d,{label:"\u8BF7\u9009\u62E9\u5E74\u7EA7"},{default:t(()=>[r(n,{modelValue:e.gradeForm.session,"onUpdate:modelValue":s[4]||(s[4]=a=>e.gradeForm.session=a),placeholder:"\u5E74\u7EA7",onChange:s[5]||(s[5]=a=>e.updateClasses(e.gradeForm.did,e.gradeForm.session))},{default:t(()=>[(o(!0),u(p,null,m(e.sessions,a=>(o(),l(i,{key:a.session,label:a.session,value:a.session},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),r(d,{label:"\u8BF7\u9009\u62E9\u73ED\u7EA7"},{default:t(()=>[r(n,{modelValue:e.gradeForm.sid,"onUpdate:modelValue":s[6]||(s[6]=a=>e.gradeForm.sid=a),placeholder:"\u73ED\u7EA7",onChange:s[7]||(s[7]=a=>e.updateStudents(e.gradeForm.sid))},{default:t(()=>[(o(!0),u(p,null,m(e.classes,a=>(o(),l(i,{key:a.sid,label:a.name,value:a.sid},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),r(d,{label:"\u8BF7\u9009\u62E9\u5B66\u751F",required:"true"},{default:t(()=>[r(n,{modelValue:e.gradeForm.number,"onUpdate:modelValue":s[8]||(s[8]=a=>e.gradeForm.number=a),placeholder:"\u5B66\u751F"},{default:t(()=>[(o(!0),u(p,null,m(e.students,a=>(o(),l(i,{key:a.number,label:a.name+"("+a.number+")",value:a.number},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),r(d,{label:"\u8BF7\u9009\u62E9\u8BFE\u7A0B",required:"true"},{default:t(()=>[r(n,{modelValue:e.gradeForm.cid,"onUpdate:modelValue":s[9]||(s[9]=a=>e.gradeForm.cid=a),placeholder:"\u8BFE\u7A0B"},{default:t(()=>[(o(!0),u(p,null,m(e.courses,a=>(o(),l(i,{key:a.cid,label:a.title,value:a.cid},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),r(d,{label:"\u8BF7\u8F93\u5165\u5206\u6570",required:"true"},{default:t(()=>[r(h,{modelValue:e.gradeForm.mark,"onUpdate:modelValue":s[10]||(s[10]=a=>e.gradeForm.mark=a),min:0,max:100,label:"\u5206\u6570"},null,8,["modelValue"])]),_:1}),r(d,null,{default:t(()=>[r($,{gutter:0,style:{width:"100%"},justify:"center"},{default:t(()=>[r(F,{span:12},{default:t(()=>[r(f,{type:"primary",onClick:s[11]||(s[11]=a=>e.updateGrade())},{default:t(()=>[S]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}var H=k(w,[["render",B],["__scopeId","data-v-65b164ce"]]);export{H as default};
